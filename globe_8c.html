<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PiWx: src/gfx/globe.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PiWx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c86603f79b902ad390ffc2674fbc4470.html">gfx</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">globe.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="conf__file_8h_source.html">conf_file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="geo_8h_source.html">geo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfx_8h_source.html">gfx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gfx__prv_8h_source.html">gfx_prv.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="img_8h_source.html">img.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="transform_8h_source.html">transform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="util_8h_source.html">util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vec_8h_source.html">vec.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for globe.c:</div>
<div class="dyncontent">
<div class="center"><img src="globe_8c__incl.png" border="0" usemap="#src_2gfx_2globe_8c" alt=""/></div>
<map name="src_2gfx_2globe_8c" id="src_2gfx_2globe_8c">
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8596f623c9ee6bb89d67c21ee6639789"><td class="memItemLeft" align="right" valign="top"><a id="a8596f623c9ee6bb89d67c21ee6639789"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LAT_INTERVAL_DEG</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a8596f623c9ee6bb89d67c21ee6639789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06cdbcca4f204692c071035155cfbe52"><td class="memItemLeft" align="right" valign="top"><a id="a06cdbcca4f204692c071035155cfbe52"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LON_INTERVAL_DEG</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a06cdbcca4f204692c071035155cfbe52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fe97a2dab45ea7fed4193208e0a09d"><td class="memItemLeft" align="right" valign="top"><a id="a94fe97a2dab45ea7fed4193208e0a09d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LAT_COUNT</b>&#160;&#160;&#160;(((90 - LAT_INTERVAL_DEG) / LAT_INTERVAL_DEG) * 2 + 1)</td></tr>
<tr class="separator:a94fe97a2dab45ea7fed4193208e0a09d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31158670966185ca4af0df5646b50308"><td class="memItemLeft" align="right" valign="top"><a id="a31158670966185ca4af0df5646b50308"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>LON_COUNT</b>&#160;&#160;&#160;((360 / LON_INTERVAL_DEG) + 1)</td></tr>
<tr class="separator:a31158670966185ca4af0df5646b50308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa12ae2f842a08a8e211d1401e7c80905"><td class="memItemLeft" align="right" valign="top"><a id="aa12ae2f842a08a8e211d1401e7c80905"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>VERTEX_COUNT</b>&#160;&#160;&#160;((LAT_COUNT * LON_COUNT) + 2)</td></tr>
<tr class="separator:aa12ae2f842a08a8e211d1401e7c80905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a1ba1192913d1a7971136d530a30d4"><td class="memItemLeft" align="right" valign="top"><a id="a76a1ba1192913d1a7971136d530a30d4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>TRI_COUNT</b>&#160;&#160;&#160;(((LAT_COUNT - 1) * LON_COUNT * 2) + (LON_COUNT * 2))</td></tr>
<tr class="separator:a76a1ba1192913d1a7971136d530a30d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a115da8e112c0fea3160666c42973be"><td class="memItemLeft" align="right" valign="top"><a id="a6a115da8e112c0fea3160666c42973be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>INDEX_COUNT</b>&#160;&#160;&#160;(TRI_COUNT * 3)</td></tr>
<tr class="separator:a6a115da8e112c0fea3160666c42973be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab55873db0c0800a39070f5cfc1b10280"><td class="memItemLeft" align="right" valign="top"><a id="ab55873db0c0800a39070f5cfc1b10280"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_Static_assert</b> (90 % LAT_INTERVAL_DEG==0, &quot;Invalid latitude interval&quot;)</td></tr>
<tr class="separator:ab55873db0c0800a39070f5cfc1b10280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad42f6320d2aa5ded42f5f2a06fd8964"><td class="memItemLeft" align="right" valign="top"><a id="aad42f6320d2aa5ded42f5f2a06fd8964"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_Static_assert</b> (360 % LON_INTERVAL_DEG==0, &quot;Invalid longitude interval&quot;)</td></tr>
<tr class="separator:aad42f6320d2aa5ded42f5f2a06fd8964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace6cbfefa05e24973c749669cf0e2b33"><td class="memItemLeft" align="right" valign="top"><a id="ace6cbfefa05e24973c749669cf0e2b33"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>_Static_assert</b> (INDEX_COUNT&lt;=USHRT_MAX, &quot;Index count too large.&quot;)</td></tr>
<tr class="separator:ace6cbfefa05e24973c749669cf0e2b33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c989c9d0d6865bebf9fc57323281863"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#a3c989c9d0d6865bebf9fc57323281863">drawGlobe</a> (const <a class="el" href="structDrawResources__.html">DrawResources_</a> *rsrc, const <a class="el" href="transform_8h.html#af4647789cb3c4ca1c1b2ebc48937b814">TransformMatrix</a> view, const <a class="el" href="transform_8h.html#af4647789cb3c4ca1c1b2ebc48937b814">TransformMatrix</a> model, const <a class="el" href="unionVector3f.html">Vector3f</a> *lightDir)</td></tr>
<tr class="memdesc:a3c989c9d0d6865bebf9fc57323281863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the globe.  <a href="#a3c989c9d0d6865bebf9fc57323281863">More...</a><br /></td></tr>
<tr class="separator:a3c989c9d0d6865bebf9fc57323281863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab579feb9f555ca008ff9863034f8a99f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#ab579feb9f555ca008ff9863034f8a99f">genGlobeModel</a> (<a class="el" href="structDrawResources__.html">DrawResources_</a> *rsrc)</td></tr>
<tr class="memdesc:ab579feb9f555ca008ff9863034f8a99f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate the vertices and indices for the globe model.  <a href="#ab579feb9f555ca008ff9863034f8a99f">More...</a><br /></td></tr>
<tr class="separator:ab579feb9f555ca008ff9863034f8a99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aa186cd29b7eb854585975604801882"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#a1aa186cd29b7eb854585975604801882">initVertex</a> (<a class="el" href="structVertex3D.html">Vertex3D</a> *v, <a class="el" href="structPosition.html">Position</a> pos)</td></tr>
<tr class="memdesc:a1aa186cd29b7eb854585975604801882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a vertex for a given latitude and longitude.  <a href="#a1aa186cd29b7eb854585975604801882">More...</a><br /></td></tr>
<tr class="separator:a1aa186cd29b7eb854585975604801882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1f414ec20f10e8ca14b287b32af2b5f"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#ab1f414ec20f10e8ca14b287b32af2b5f">loadGlobeTexture</a> (<a class="el" href="structDrawResources__.html">DrawResources_</a> *rsrc, const char *imageResources, const char *image, GLuint tex, <a class="el" href="structTexture.html">Texture</a> *texture)</td></tr>
<tr class="memdesc:ab1f414ec20f10e8ca14b287b32af2b5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load a single globe texture.  <a href="#ab1f414ec20f10e8ca14b287b32af2b5f">More...</a><br /></td></tr>
<tr class="separator:ab1f414ec20f10e8ca14b287b32af2b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5af9db4a859f547d93acce7e2a7aedc9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#a5af9db4a859f547d93acce7e2a7aedc9">loadGlobeTextures</a> (<a class="el" href="structDrawResources__.html">DrawResources_</a> *rsrc, const char *imageResources)</td></tr>
<tr class="memdesc:a5af9db4a859f547d93acce7e2a7aedc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the map textures for the globe.  <a href="#a5af9db4a859f547d93acce7e2a7aedc9">More...</a><br /></td></tr>
<tr class="separator:a5af9db4a859f547d93acce7e2a7aedc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2356bff28739ae29bffe90add4b7f03d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#a2356bff28739ae29bffe90add4b7f03d">gfx_drawGlobe</a> (<a class="el" href="gfx_8h.html#a8f9084fa48c381705926070ee1b9c784">DrawResources</a> resources, <a class="el" href="structPosition.html">Position</a> pos, time_t curTime, const <a class="el" href="structBoundingBox2D.html">BoundingBox2D</a> *box)</td></tr>
<tr class="memdesc:a2356bff28739ae29bffe90add4b7f03d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the Earth centered on the given latitude and longitude.  <a href="#a2356bff28739ae29bffe90add4b7f03d">More...</a><br /></td></tr>
<tr class="separator:a2356bff28739ae29bffe90add4b7f03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2005956497ae25f61ca206275e10bc4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="globe_8c.html#af2005956497ae25f61ca206275e10bc4">gfx_initGlobe</a> (<a class="el" href="structDrawResources__.html">DrawResources_</a> *rsrc, const char *imageResources)</td></tr>
<tr class="memdesc:af2005956497ae25f61ca206275e10bc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the globe model for day/night display.  <a href="#af2005956497ae25f61ca206275e10bc4">More...</a><br /></td></tr>
<tr class="separator:af2005956497ae25f61ca206275e10bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae76c09422a3306a56ceb0e513e01fbb9"><td class="memItemLeft" align="right" valign="top"><a id="ae76c09422a3306a56ceb0e513e01fbb9"></a>
static const <a class="el" href="structPosition.html">Position</a>&#160;</td><td class="memItemRight" valign="bottom"><b>gNorthPole</b> = {90.0, 0.0}</td></tr>
<tr class="separator:ae76c09422a3306a56ceb0e513e01fbb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d696ce9c33b14f20bf1dbea8ab47179"><td class="memItemLeft" align="right" valign="top"><a id="a5d696ce9c33b14f20bf1dbea8ab47179"></a>
static const <a class="el" href="structPosition.html">Position</a>&#160;</td><td class="memItemRight" valign="bottom"><b>gSouthPole</b> = {-90.0, 0.0}</td></tr>
<tr class="separator:a5d696ce9c33b14f20bf1dbea8ab47179"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c989c9d0d6865bebf9fc57323281863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c989c9d0d6865bebf9fc57323281863">&#9670;&nbsp;</a></span>drawGlobe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void drawGlobe </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structDrawResources__.html">DrawResources_</a> *&#160;</td>
          <td class="paramname"><em>rsrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="transform_8h.html#af4647789cb3c4ca1c1b2ebc48937b814">TransformMatrix</a>&#160;</td>
          <td class="paramname"><em>view</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="transform_8h.html#af4647789cb3c4ca1c1b2ebc48937b814">TransformMatrix</a>&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="unionVector3f.html">Vector3f</a> *&#160;</td>
          <td class="paramname"><em>lightDir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draw the globe. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rsrc</td><td>The gfx context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">view</td><td>The view transform. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">model</td><td>The model transform. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lightDir</td><td>The light direction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab579feb9f555ca008ff9863034f8a99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab579feb9f555ca008ff9863034f8a99f">&#9670;&nbsp;</a></span>genGlobeModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool genGlobeModel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDrawResources__.html">DrawResources_</a> *&#160;</td>
          <td class="paramname"><em>rsrc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate the vertices and indices for the globe model. </p>
<p>Assumes that the globe has not already been initialized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsrc</td><td>The gfx context. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful, false otherwise. </dd></dl>

</div>
</div>
<a id="a2356bff28739ae29bffe90add4b7f03d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2356bff28739ae29bffe90add4b7f03d">&#9670;&nbsp;</a></span>gfx_drawGlobe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gfx_drawGlobe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="gfx_8h.html#a8f9084fa48c381705926070ee1b9c784">DrawResources</a>&#160;</td>
          <td class="paramname"><em>resources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPosition.html">Position</a>&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>curTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structBoundingBox2D.html">BoundingBox2D</a> *&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the Earth centered on the given latitude and longitude. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">resources</td><td>The gfx context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>Eye position over the globe. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">curTime</td><td>The current system time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">box</td><td>The bounding box for the globe in pixels. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af2005956497ae25f61ca206275e10bc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2005956497ae25f61ca206275e10bc4">&#9670;&nbsp;</a></span>gfx_initGlobe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gfx_initGlobe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDrawResources__.html">DrawResources_</a> *&#160;</td>
          <td class="paramname"><em>rsrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>imageResources</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the globe model for day/night display. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsrc</td><td>The gfx context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageResources</td><td>The path to PiWx's image resources. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful, false otherwise. </dd></dl>

</div>
</div>
<a id="a1aa186cd29b7eb854585975604801882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aa186cd29b7eb854585975604801882">&#9670;&nbsp;</a></span>initVertex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void initVertex </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structVertex3D.html">Vertex3D</a> *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPosition.html">Position</a>&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize a vertex for a given latitude and longitude. </p>
<p>The Y and Z axes are swapped. ECEF uses the Z axis for the Earth's polar axis. If this convention is kept, the texture will wrap around the Z axis and then be mirrored over the XZ plane due to the projection. This will cause the texture to appear backwards.</p>
<p>If the Y axis is used as the polar axis, the texture will wrap around the Y axis, and the flip due to the projection can then be corrected by a simple rotation.</p>
<p>The other option is to keep Z as the polar axis and scale the Y axis by -1. But that effectively turns the Earth inside out making the normals inconsistent and changing the winding order of the quad triangles.</p>
<p>Yet another option is changing the projection to put +Y up in the viewport. However, that would make rendering inconsistent with framebuffer memory ordering. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">v</td><td>The vertex. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pos</td><td>The position. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1f414ec20f10e8ca14b287b32af2b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1f414ec20f10e8ca14b287b32af2b5f">&#9670;&nbsp;</a></span>loadGlobeTexture()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool loadGlobeTexture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDrawResources__.html">DrawResources_</a> *&#160;</td>
          <td class="paramname"><em>rsrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>imageResources</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GLuint&#160;</td>
          <td class="paramname"><em>tex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structTexture.html">Texture</a> *&#160;</td>
          <td class="paramname"><em>texture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load a single globe texture. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsrc</td><td>The gfx context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageResources</td><td>The path to PiWx's image resources. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td><a class="el" href="structTexture.html" title="Wrapper for a GL texture. ">Texture</a> image file name. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">tex</td><td>The GL texture handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">texture</td><td>The texture wrapper. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if able to load the icon resource, false otherwise. If false, the gfx context will be updated with error information. </dd></dl>

</div>
</div>
<a id="a5af9db4a859f547d93acce7e2a7aedc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af9db4a859f547d93acce7e2a7aedc9">&#9670;&nbsp;</a></span>loadGlobeTextures()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool loadGlobeTextures </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDrawResources__.html">DrawResources_</a> *&#160;</td>
          <td class="paramname"><em>rsrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>imageResources</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loads the map textures for the globe. </p>
<p>Assumes that the globe has not already been initialized. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rsrc</td><td>The gfx context. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imageResources</td><td>The image path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successful, false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
